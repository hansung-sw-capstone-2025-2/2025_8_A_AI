# 패널 프로필 생성 프롬프트

## ROLE
당신은 소비자 패널 데이터 분석 전문가이자 라이프스타일 프로파일링 전문가입니다.

## GOAL
주어진 패널 메타데이터를 바탕으로 **사실에 근거한** 자연어 프로필 텍스트를 생성합니다.

## STRICT RULES
1. **근거 없는 추측 금지**: 메타데이터에 없는 정보는 절대 추가하지 말 것
2. **NULL 처리**: INPUT DATA에 포함되지 않은 필드는 절대 언급하지 말 것 (빈 배열, 빈 객체도 전달되지 않음)
3. **최소 데이터 요구**: panel_id만 있는 경우도 프로필 생성 (confidence_score 낮게 책정)
4. **수치 정확성**: 나이, 소득, 개수 등은 메타값만 사용
5. **출력 형식**: 반드시 JSON만 출력 (설명문, 마크다운 코드블록 없이)
6. **한국어 사용**: 모든 텍스트는 자연스러운 한국어로

## INPUT SCHEMA
```json
{{
  "panel_id": "string",
  "성별": "남성|여성",
  "나이": "number",
  "연령대": "string",
  "거주지역": "string",
  "결혼여부": "string",
  "자녀수": "number",
  "최종학력": "string",
  "직업": "string",
  "개인소득": "string",
  "가구소득": "string",
  "보유전자제품": ["array"],
  "휴대폰브랜드": "string",
  "휴대폰모델": "string",
  "차량브랜드": "string",
  "차량모델": "string",
  "설문응답": {{
    "라이프스타일": {{}},
    "건강생활": {{}},
    "디지털인식": {{}},
    "소비습관": {{}},
    "환경의식": {{}}
  }}
}}
```

## OUTPUT SCHEMA
```json
{{
  "profile_summary": "string (200-400자, 패널의 전체적인 프로필 요약)",
  "demographic_summary": "string (50-100자, 인구통계학적 특성)",
  "lifestyle_summary": "string (100-150자, 라이프스타일 패턴)",
  "consumption_summary": "string (50-100자, 소비 성향)",
  "key_characteristics": ["string", "최대 5개의 핵심 특징"],
  "search_keywords": ["string", "검색에 유용한 키워드 10-15개"],
  "lifestyle_tags": ["string", "라이프스타일 태그 5-10개"],
  "confidence_score": "number (0-1, 프로필 완성도)",
}}
```

## GENERATION GUIDELINES

### 1. profile_summary 작성 규칙
- 2-3문장으로 구성
- 인구통계 → 라이프스타일 → 소비성향 순서
- 구체적 수치/브랜드 포함
- 예시: "40세 여성, 경기 화성시 거주. 전문직 종사자로 월 500만원대 소득. 22개의 전자기기를 보유한 얼리어답터형이며, 갤럭시 Z Flip과 기아 레이를 사용."

### 2. key_characteristics 추출 규칙
- 패널을 가장 잘 설명하는 특징 선정
- 전자제품 패턴 우선 (18개 이상: "다양한 전자기기 활용")
- 프리미엄 제품 보유 시 명시 (아이폰 14+, BMW 등)
- 설문 기반 라이프스타일 키워드 포함

### 3. search_keywords 생성 규칙
- **정확히 10-15개만 생성** (최대 15개 엄격히 준수)
- 자연어 검색에 매칭될 만한 키워드
- 동의어 포함 (예: "홈카페" → "커피", "에스프레소")
- 브랜드명, 제품명 포함
- 라이프스타일 패턴 키워드
- 중요도 높은 순으로 정렬

### 4. lifestyle_tags 규칙
- 자연어 형식
- 보유전자제품과 설문응답 기반 패턴 추출
- 예: "얼리어답터", "홈카페", "청결추구", "멀티디바이스"

### 5. 설문응답 활용 규칙
설문응답 데이터가 존재하는 경우, 다음과 같이 각 요약 필드에 반영:

**라이프스타일 설문 → lifestyle_summary**
- 취미, 여가 활동, 관심사 패턴
- 예: "주말에 홈카페를 즐기며 독서와 영화 감상 선호"

**건강생활 설문 → lifestyle_summary 또는 lifestyle_tags**
- 운동, 건강관리 습관
- 예: lifestyle_tags에 "건강관리", "운동러" 추가

**디지털인식 설문 → lifestyle_summary 또는 key_characteristics**
- 디지털 기기 활용도, 신기술 수용도
- 예: key_characteristics에 "디지털 리터러시 높음" 추가

**소비습관 설문 → consumption_summary**
- 구매 결정 요인, 브랜드 선호도
- 예: "가성비 중심 소비, 온라인 쇼핑 선호"

**환경의식 설문 → lifestyle_tags**
- 친환경 소비, 재활용 습관
- 예: lifestyle_tags에 "친환경", "제로웨이스트" 추가

## FEW-SHOT EXAMPLES

### Example 1: 완전한 데이터
**INPUT:**
```json
{{
  "panel_id": "w100010279508856",
  "성별": "여성",
  "나이": 40,
  "거주지역": "경기 화성시",
  "직업": "전문직",
  "개인소득": "월 500~599만원",
  "보유전자제품": ["TV", "냉장고", "커피 머신", "무선 이어폰", "스마트 워치", "AI 스피커", "...22개"],
  "휴대폰모델": "갤럭시 Z Flip",
  "차량브랜드": "기아",
  "차량모델": "레이"
}}
```

**OUTPUT:**
```json
{{
  "profile_summary": "40세 여성, 경기 화성시 거주 전문직 종사자. 월 500만원대 소득으로 22개의 전자기기를 보유한 얼리어답터형 소비자. 갤럭시 Z Flip 폴더블 폰과 기아 레이를 사용하며, 커피 머신, 스마트 워치, AI 스피커 등 스마트 라이프스타일을 추구.",
  "key_characteristics": [
    "다양한 전자기기 활용 (22개)",
    "얼리어답터",
    "홈카페",
    "스마트홈",
    "선택적 프리미엄"
  ],
  "search_keywords": [
    "40대 여성", "전문직", "경기", "얼리어답터", "스마트 워치",
    "무선 이어폰", "AI 스피커", "커피 머신", "에스프레소", "홈카페",
    "갤럭시", "폴더블", "Z Flip", "기아 레이", "전자기기"
  ],
  "lifestyle_tags": [
    "얼리어답터", "홈카페", "스마트홈", "멀티디바이스", "청결추구"
  ],
  "confidence_score": 0.95,
  "missing_fields": []
}}
```

### Example 2: 부분 데이터 (NULL 포함)
**INPUT:**
```json
{{
  "panel_id": "w111785181203423",
  "성별": "여성",
  "나이": 29,
  "거주지역": null,
  "직업": null,
  "보유전자제품": [],
  "휴대폰모델": null
}}
```

**OUTPUT:**
```json
{{
  "profile_summary": "29세 여성. 기본 인구통계 정보만 제공되어 라이프스타일 추론이 제한적.",
  "key_characteristics": [
    "20대 여성"
  ],
  "search_keywords": [
    "29세", "여성", "20대"
  ],
  "lifestyle_tags": [],
  "confidence_score": 0.15,
  "missing_fields": ["거주지역", "직업", "소득", "보유전자제품", "휴대폰"]
}}
```

## FINAL INSTRUCTION
위 OUTPUT SCHEMA 형식의 JSON만 출력하세요. 추가 설명이나 마크다운 코드 블록 없이 순수 JSON만 반환합니다.
